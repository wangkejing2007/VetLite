<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetLite - Áç∏ÈÜ´Â≠∏ÂÖ•ÈñÄ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="detective.css">
    <link rel="stylesheet" href="profile.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+TC:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- Ionicons for Icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <ion-icon name="paw" class="logo-icon"></ion-icon>
                <h1>VetLite</h1>
            </div>
            <div class="user-profile">
                <span class="level-badge">ÁéãÂèØÊÅ©</span>
            </div>

        </header>

        <!-- Main Content Area -->
        <main id="main-content">
            <!-- VIEW: DASHBOARD -->
            <section id="view-dashboard" class="view active-view">
                <div class="welcome-banner">
                    <h2>‰ªäÊó•Áç∏ÈÜ´Êé¢Èö™</h2>
                    <p>Ê∫ñÂÇôÂ•ΩÂ≠∏ÁøíÊñ∞Áü•Ë≠ò‰∫ÜÂóéÔºü</p>
                </div>

                <!-- Daily Term Card -->
                <div class="card daily-term-card">
                    <div class="card-header">
                        <ion-icon name="bulb-outline"></ion-icon>
                        <h3>ÊØèÊó•‰∏ÄË©û</h3>
                    </div>
                    <div class="card-body" id="daily-term-content">
                        <!-- Content injected by JS -->
                        <div class="loading">ËºâÂÖ•‰∏≠...</div>
                    </div>
                </div>

                <!-- Learning Map Preview -->
                <div class="section-title">
                    <h3>Â≠∏ÁøíË∑ØÂæë</h3>
                </div>
                <div class="learning-path-scroll">
                    <div class="path-node completed">
                        <div class="node-icon"><ion-icon name="checkmark-circle"></ion-icon></div>
                        <span>ÂÖ•ÈñÄ</span>
                    </div>
                    <div class="path-line active"></div>
                    <div class="path-node completed" onclick="switchTab('anatomy')">
                        <div class="node-icon"><ion-icon name="checkmark-circle"></ion-icon></div>
                        <span>Ëß£ÂâñÂ≠∏</span>
                    </div>
                    <div class="path-line active"></div>
                    <div class="path-node completed" onclick="switchTab('flashcards')">
                        <div class="node-icon"><ion-icon name="checkmark-circle"></ion-icon></div>
                        <span>ÁîüÁêÜÂ≠∏</span>
                    </div>
                    <div class="path-line active"></div>
                    <div class="path-node active" onclick="switchTab('detective')">
                        <div class="node-icon"><ion-icon name="medkit"></ion-icon></div>
                        <span>ÁóÖÁêÜÂ≠∏</span>
                    </div>
                </div>
            </section>

            <!-- VIEW: FLASHCARDS -->
            <section id="view-flashcards" class="view">
                <div class="header-row">
                    <h2>Áü•Ë≠òÂç°Áâá</h2>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span class="filter-badge">Ëß£ÂâñÂ≠∏Âü∫Á§é</span>
                        <button class="btn-icon" onclick="openAddCardModal()" title="Êñ∞Â¢ûÂç°Áâá">
                            <ion-icon name="add"></ion-icon>
                        </button>
                    </div>
                </div>

                <div class="flashcard-container">
                    <div class="flashcard" id="current-flashcard">
                        <div class="card-face card-front">
                            <div class="card-content">
                                <span class="card-hint">ÈªûÊìäÁøªÁâå</span>
                                <h3 id="card-question">...</h3>
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="card-content">
                                <h3 id="card-answer">...</h3>
                                <p id="card-explanation">...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controls-area" id="card-controls" style="display: none;">
                    <p>ÈÄôÈ°åÂ∞ç‰Ω†‰æÜË™™Ôºü</p>
                    <div class="button-group">
                        <button class="btn btn-easy" onclick="handleCardResult('easy')">Â§™Á∞°ÂñÆ</button>
                        <button class="btn btn-hard" onclick="handleCardResult('hard')">ÈÇÑ‰∏çÁÜü</button>
                        <button class="btn btn-next" onclick="nextCard()">‰∏ã‰∏ÄÂºµ <ion-icon
                                name="arrow-forward"></ion-icon></button>
                    </div>
                </div>

                <!-- Add Card Modal -->
                <div id="add-card-modal" class="modal hidden">
                    <div class="modal-content">
                        <span class="close-modal" onclick="closeAddCardModal()">&times;</span>
                        <div class="modal-header">
                            <h3>Êñ∞Â¢ûÁü•Ë≠òÂç°Áâá</h3>
                        </div>
                        <div class="form-body">
                            <div class="form-group">
                                <label>È°åÁõÆ (Question)</label>
                                <textarea id="new-card-q" placeholder="‰æãÂ¶ÇÔºöË≤ìÁöÑÊ≠£Â∏∏È´îÊ∫´ÁØÑÂúçÔºü" rows="2"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Á≠îÊ°à (Answer)</label>
                                <input type="text" id="new-card-a" placeholder="‰æãÂ¶ÇÔºö38.0 - 39.2¬∞C">
                            </div>
                            <div class="form-group">
                                <label>Ë©≥Ëß£ (Explanation)</label>
                                <textarea id="new-card-e" placeholder="Ë£úÂÖÖË™™Êòé..." rows="3"></textarea>
                            </div>
                            <button class="btn-primary" onclick="saveNewCard()"
                                style="width: 100%; margin-top: 10px;">ÂÑ≤Â≠òÂç°Áâá</button>
                            <button class="btn-secondary" onclick="closeAddCardModal()"
                                style="width: 100%; margin-top: 10px; background: #cbd5e1; border: none; padding: 14px; border-radius: 12px; font-weight: 600; cursor: pointer;">ÂèñÊ∂à</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- VIEW: ANATOMY (Phase 2) -->
            <section id="view-anatomy" class="view">
                <div class="header-row">
                    <h2>‰∫íÂãïËß£ÂâñÂÆ§</h2>
                </div>

                <div class="species-tabs">
                    <button class="species-tab active" onclick="switchSpecies('dog')">
                        <ion-icon name="paw"></ion-icon> Áãó
                    </button>
                    <button class="species-tab" onclick="switchSpecies('cat')">
                        <ion-icon name="logo-octocat"></ion-icon> Ë≤ì
                    </button>
                    <button class="species-tab" onclick="switchSpecies('bird')">
                        <ion-icon name="paper-plane"></ion-icon> È≥•
                    </button>
                    <button class="species-tab" onclick="switchSpecies('horse')">
                        <ion-icon name="trophy"></ion-icon> È¶¨
                    </button>
                    <button class="species-tab" onclick="switchSpecies('fish')">
                        <ion-icon name="water"></ion-icon> È≠ö
                    </button>
                </div>

                <div class="anatomy-container" id="anatomy-visual">
                    <!-- Dog Anatomy Image -->
                    <img src="dog.png" id="silhouette-dog" class="animal-img" alt="Dog Anatomy">

                    <!-- Cat Anatomy Image -->
                    <img src="cat.png" id="silhouette-cat" class="animal-img hidden" alt="Cat Anatomy">

                    <img src="bird.png" id="silhouette-bird" class="animal-img hidden" alt="Bird Anatomy">
                    <img src="horse.png" id="silhouette-horse" class="animal-img hidden" alt="Horse Anatomy">
                    <img src="fish.png" id="silhouette-fish" class="animal-img hidden" alt="Fish Anatomy">

                    <div id="hotspots-layer"></div>
                </div>

                <!-- Info Modal / Sheet -->
                <div id="anatomy-modal" class="modal hidden">
                    <div class="modal-content">
                        <span class="close-modal" onclick="closeAnatomyModal()">&times;</span>
                        <div class="modal-header">
                            <span class="term-tag" id="anatomy-category">Á≥ªÁµ±</span>
                            <h3 id="anatomy-title">ÊßãÈÄ†ÂêçÁ®±</h3>
                        </div>
                        <p id="anatomy-desc">Ë™™ÊòéÊñáÂ≠ó...</p>
                    </div>
                </div>
            </section>
            <!-- View: Detective (Clinical Cases) -->
            <section id="view-detective" class="view">
                <div class="welcome-banner">
                    <h2>Ëá®Â∫äÂ∞èÂÅµÊé¢</h2>
                    <p>‰Ω†ÊòØÂÄºÁè≠Áç∏ÈÜ´ÔºåË´ãÂÅöÂá∫Ê≠£Á¢∫Âà§Êñ∑ÔºÅ</p>
                </div>

                <div class="detective-container">
                    <!-- Case Card -->
                    <div class="case-card" id="case-card">
                        <div class="case-header">
                            <div class="case-icon" id="case-icon">üê∂</div>
                            <div class="case-info">
                                <h3 id="case-patient">ÁóÖÊÇ£Ë≥áÊñôËºâÂÖ•‰∏≠...</h3>
                                <span class="case-id">Case #001</span>
                            </div>
                        </div>
                        <div class="case-body">
                            <h4>‰∏ªË®¥ÁóáÁãÄÔºö</h4>
                            <p id="case-symptom">...</p>
                        </div>
                        <div class="case-actions" id="case-options">
                            <!-- Buttons will be injected here -->
                        </div>
                        <div class="case-feedback hidden" id="case-feedback">
                            <!-- Result -->
                        </div>
                    </div>

                    <div class="button-group" style="margin-top: 20px;">
                        <button class="btn btn-next" onclick="loadNextCase()">‰∏ã‰∏Ä‰ΩçÁóÖÊÇ£ <ion-icon
                                name="arrow-forward"></ion-icon></button>
                    </div>
                </div>
            </section>

            <!-- View: Profile -->
            <section id="view-profile" class="view">
                <div class="welcome-banner">
                    <h2>ÊàëÁöÑÊ™îÊ°à</h2>
                    <p>Êü•ÁúãÊÇ®ÁöÑÂ≠∏ÁøíÊ≠∑Á®ãËàáÊàêÂ∞±</p>
                </div>

                <div class="profile-header-card">
                    <div class="profile-avatar">
                        <ion-icon name="person"></ion-icon>
                    </div>
                    <div class="profile-info">
                        <h3>ÁéãÂèØÊÅ©</h3>
                        <span class="level-badge" id="profile-role">Lv. 1 Ë¶ãÁøíÁîü</span>
                        <div class="xp-bar-container">
                            <div class="xp-bar" style="width: 0%;"></div>
                        </div>
                        <span class="xp-text">EXP: 0 / 100</span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon color-blue">
                            <ion-icon name="albums"></ion-icon>
                        </div>
                        <div class="stat-value" id="stat-flashcards">0</div>
                        <div class="stat-label">Â∑≤Â≠∏Âç°Áâá</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon color-green">
                            <ion-icon name="medkit"></ion-icon>
                        </div>
                        <div class="stat-value" id="stat-cases">0</div>
                        <div class="stat-label">ÂÆåÊàêË®∫Êñ∑</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon color-orange">
                            <ion-icon name="school"></ion-icon>
                        </div>
                        <div class="stat-value">100%</div>
                        <div class="stat-label">Ëß£ÂâñÈÄ≤Â∫¶</div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Á≥ªÁµ±Ë®≠ÂÆö</h3>
                    <button class="setting-btn warning" onclick="resetData()">
                        <div class="setting-icon">
                            <ion-icon name="trash-outline"></ion-icon>
                        </div>
                        <div class="setting-text">
                            <h4>ÈáçÁΩÆÂ≠∏ÁøíÁ¥ÄÈåÑ</h4>
                            <p>Ê∏ÖÈô§ÊâÄÊúâËá™Ë®ÇÂç°ÁâáËàáÂ≠∏ÁøíÈÄ≤Â∫¶</p>
                        </div>
                        <ion-icon name="chevron-forward-outline"></ion-icon>
                    </button>

                    <div class="app-version">
                        <p>VetLite v1.2.0 (Midnight Edition)</p>
                        <p>¬© 2025 Deepmind Veterinary GenAI Team</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" onclick="switchTab('dashboard')" id="nav-dashboard">
                <ion-icon name="home-outline"></ion-icon>
                <span>È¶ñÈ†Å</span>
            </button>
            <button class="nav-item" onclick="switchTab('flashcards')" id="nav-flashcards">
                <ion-icon name="albums-outline"></ion-icon>
                <span>Âç°Áâá</span>
            </button>
            <button class="nav-item" onclick="switchTab('anatomy')" id="nav-anatomy">
                <ion-icon name="body-outline"></ion-icon>
                <span>Ëß£ÂâñÂÆ§</span>
            </button>
            <button class="nav-item" onclick="switchTab('detective')" id="nav-detective">
                <ion-icon name="medkit-outline"></ion-icon>
                <span>Ë®∫Èñì</span>
            </button>
            <button class="nav-item" onclick="switchTab('profile')" id="nav-profile">
                <ion-icon name="person-outline"></ion-icon>
                <span>ÊàëÁöÑ</span>
            </button>
        </nav>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>